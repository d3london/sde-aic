---
title: "London SDE/AIC Programme: Introduction and Proposed Use-Cases" 
authors:
  - name: Dr. Joe Zhang _(Head of Data Science)_
    affiliation: London AI Centre / SDE
  - name: Prof. James Teo _(Clinical Director AI & Data)_
    affiliation: London AI Centre / SDE
  - name: Dr. Jorge Cardoso _(Chief Technology Officer)_
    affiliation: London AI Centre / SDE
  - name: Jawad Chaudhry _(Programme Lead)_
    affiliation: London AI Centre / SDE
  - name: Sigal Hachlili _(Director of AI, Data & Digital)_
    affiliation: London AI Centre / SDE
lightbox: false
---

_Version 0.6 (last updated 2024 Apr 18)_

## Introduction

The [London AI Centre](https://www.aicentre.co.uk/) (AIC) has been commissioned as part of the London Secure Data Environment (SDE) programme for its latest phase: to extend AI technologies and analytics capabilities to stakeholders and data environments across London. This document summarises the latest state of planning for the programme, as an aid to internal and external stakeholders including Integrated Care Boards (ICB) and the wider London NHS ecosystem.

## What is the London SDE?

The London Secure Data Environment (SDE) is part of a national programme to enable secure and more powerful analytics for NHS, academic, and commercial users. Uniquely amongst regional peers, the London SDE does not focus on a single research platform. Rather, it places a focus on developing data infrastructure and capabilities across the region to support population health, care providers, and commissioners. This is in addition to building data environments that enable commercial research and development partnerships.

The SDE is led by **OneLondon**, as part of an overarching London Health Data Strategy, coalescing around three components (@fig-sde-summary):

(1) **London Data Service (LDS)**: hosted in North-East London, the LDS serves as a data engineering and service layer for pan-London primary care and secondary care data. It handles data extraction and linkage, and provisions data within secure analytics environments for both research and NHS users.

(2) **DiscoverNOW Research/Analytics Environment**: run by Imperial College Healthcare Partners in North-West London, DiscoverNOW supports governance and operation of secure research environments for academic, commercial, and NHS research and analytics.

(3) **London AI Centre (AIC)**: a national centre of excellence for applied data science and AI, the AIC provides frontier technology for data enrichment (CogStack), federated analytics (FLIP), and deployment of machine learning tools, as well as expertise in health data and advanced analytics.


```{mermaid}
%%| fig-width: 6
%%| label: fig-sde-summary
%%| fig-cap: "Summary of SDE components and data flows. Each London ICB is provisioned with its own data/analytics environment through the LDS. FLIP = Federated Learning and Interoperability Platform."
flowchart TD
    d1[GP Surgeries] ==>|Primary care data| LDS1[(London Data Service)]
    d2[NHS Digital] ==>|Commissioning datasets| LDS1
    d3[Local data sources] ==>|ICS data| ICB
    AIC1["CogStack in Trusts"] ==>|"Unstructured data 
                                          (hospitals)"| LDS1
    LDS1==> AIC1a["CogStack in LDS"]
    AIC1a==>|"Unstructured data 
                (primary care)"| LDS1
    LDS1 ==>|Linked data| NWL1[("DiscoverNOW Research & 
                                Analytics Environment")]

    AIC2["AIC FLIP"] ==> |"Multi-modal data 
                                          (imaging metadata)"| NWL1
    AIC2 ==> |Hospital cancer data| LDS1
    LDS1 ==>|Linked data| ICB[("Integrated Care Board 'Sandpits' 
                                x5: NEL/SEL/SWL/NWL/NCL")]

    ICB <==>|Collaborative analytics| AIC3[AIC Data/AI Hub]
    ICB <==>|Output Sharing| LDS2[Terminology/Code/Model Servers]
    AIC3 <==>|Output Sharing| LDS2
    NWL1 <==>|Output Sharing| LDS2

    classDef green fill:#ab9, stroke:#333, stroke-width:1px
    classDef blue fill:#89c, stroke:#333, stroke-width:1px
    classDef bluegreen fill:#9ca, stroke:#333, stroke-width:1px
    classDef lightblue fill:#ace, stroke:#333, stroke-width:1px
    classDef red fill:#c89, stroke:#333, stroke-width:1px
    classDef lightorange fill:#ca8, stroke:#333, stroke-width:1px
    classDef orange fill:#d96, stroke:#333, stroke-width:1px
    classDef purple fill:#a9c, stroke:#333, stroke-width:1px
    classDef bluegray fill:#9ab, stroke:#333, stroke-width:1px
    classDef gray fill:#fff, stroke:#333, stroke-width:1px

    class LDS1,LDS2 blue
    class ICB lightblue
    class AIC1,AIC1a,AIC2,AIC3 orange
    class NWL1,NWL2 bluegray
    class d1,d2,d3 bluegreen
```


## Technology and objectives

The contribution from the London AIC consists of technology deployment and supporting expertise, that enable a number of objectives (@fig-aic-objectives) over the two year programme. This contribution includes the following:

(1) **Federated Learning and Interoperability Platform (FLIP)**: FLIP consists of (a) secure data environments within NHS hospital Trusts for multi-modal imaging data, imaging metadata, and structured health record data in the OMOP common data model; and (b) a mechanism to query data and train AI models across these secure enclaves without the need to physically transfer data. FLIP is presently installed in four major London Trusts. Integrating FLIP into the SDE will enable hospital data (such as cancer data) to be surfaced into the LDS, and enable access to multi-modal data (such as DICOM imaging and digital pathology) for research in precision healthcare.

(2) **CogStack**: As an advanced natural language processing platform, CogStack can turn the large quantities of health information that are found in narrative text, into structured and analysable data. Currently actively used in Trusts to assist with clinical coding from notes and clinic letters, CogStack can surface secondary care and cancer pathway data, and previously unseen primary care data, into the SDE ecosystem.         

(3) **AIC Data/AI Hub**: The AIC hosts substantial health data and AI implementation expertise, that will provide practical support in data engineering, clinical informatics, data science, and machine learning (ML) development and deployment. Primary aims are to (a) help Integrated Care Boards (ICB) migrate data pipelines and analytics into common data models and terminologies within LDS environments; (b) extend these into reproducible pipelines for data science and predictive analytics deployment; and (c) work together to make ICBs self-sufficient in these capabilities. The AIC will also support the adoption and roll-out of the OMOP Common Data Model.

```{mermaid}
%%| fig-width: 6
%%| label: fig-aic-objectives
%%| fig-cap: "Summary of AIC work components and objectives. FLIP = Federated Learning and Interoperability Platform; ML = Machine Learning."
flowchart LR
    FLIP["FLIP"] ==> A1["Standardising hospital 
                          imaging metadata"] 
    FLIP ==> A2[Technology installation]
    A1 ==> A3["Federated model training
              for research collaborations"]
    A2 ==> A3

    A2 ==> A4["Enabling hospital 
              data queries"]
    B1 ==> A4

    COG["CogStack"] ==> B1["Standardising hospital 
                            cancer data"]
    COG ==> B2[LDS installation] ==> B3["Standardising primary care 
                                      unstructured data"]

    A4 ==> C3
    B3 ==> C3

    HUB[Data/AI Hub] ==> C1["Assisting ICBs with migration 
                              of existing pipelines"]
    C1 ==> C2["Building standardised 
                cohort pipelines"]
    C2 ==> C3["Building reproducible analytics/ML 
              pipelines with sharable code base"]
    HUB ==> C4["Standardising London SDE data
                into OMOP common data model"]

    classDef yellow fill:#ed6, stroke:#333, stroke-width:1px
    classDef lightorange fill:#fb3, stroke:#333, stroke-width:1px
    classDef orange fill:#f81, stroke:#333, stroke-width:1px

    classDef yellowbase fill:#ed6, stroke:#333, stroke-width:4px
    classDef lightorangebase fill:#fb3, stroke:#333, stroke-width:4px
    classDef orangebase fill:#f81, stroke:#333, stroke-width:4px

    class FLIP yellowbase
    class A1,A2,A3,A4 yellow
    class COG lightorangebase
    class B1,B2,B3 lightorange
    class HUB orangebase
    class C1,C2,C3,C4 orange
```

As the LDS ICB environments share a common data model, any pipelines created in collaboration with an ICB can be adapted and used for any other ICB (or deployed across multiple environments to create pan-London insights). This will also facilitate the use of shared terminologies, and validating / versioning / serving NHS-owned machine learning models across regions.

## Proposed use-cases

The following use-cases are _examples_ of analytics projects that can be supported within the SDE ecosystem, in collaboration between ICB/NHS analytics teams and the AIC/SDE team. Use-cases align to the London Health Data Strategy and long term condition priorities, as well as national programmes such as CORE20PLUS5, and are proposed here following early discussions with London ICBs. An overarching objective for any work is to build a foundation for reproducible analytics that can be shared across the region.

### Systematic measurement of group and individual health inequality 

**AIM:** To systematically surface multiple dimensions of health inequality across sociodemographic / geospatial groups and individual patients, and to monitor this data continuously across key long-term conditions.

**BACKGROUND:** Health inequality refers to measurable differences in health outcomes and determinants between individuals or groups (e.g. morbidity, co-morbidity, disease complications/death, healthcare access, disease screening, treatment delivery). Where individuals and groups experience health inequality, the principle of health _equity_ emphases the importance of reducing disparities by modifying outcome determinants that are unfairly distributed. 

Health inequality is traditionally measured and visualised as a comparison of prevalence/incidence across different population groups. While helpful for broad insights, this offers limited understanding of complex individual circumstances. This type of measurement can be extended to individual patients, by using clinical domain knowledge to define 'indicators' of unequal disease, diagnosis, and treatment pathways. For example, in an individual with Diabetes Mellitus, indicators of inequality can include:

(1) Diabetes surfacing at an early age;

(2) Diagnosis in proximity to cardiovascular risk factor co-morbidities;

(3) Diagnosis at a _late_ age but with more severe disease, as measured by HbA1c or presence of end-organ complications;

(4) Reduced health engagement/encounters/treatment compared to what is expected based on disease severity;

(5) Shorter time to complications and mortality following diagnosis.

The precise contribution of factors to outcomes can be measured and understood in multivariate statistical models. Overall, the presence and magnitude of indicators can be used to visualise, monitor, and explain different types of inequality, including through comparison of groups and individuals to 'what is expected' in a background population. The outcome is an increase in actionability, with identification of modifiable determinants of inequality ( = inequity) for small groups and individuals.

**APPROACH:** Broadly, work would fall into three stages. The first includes defining shared terminologies, concepts, and indicators that cover long-term conditions of interest. Secondly, existing descriptions of health inequality can be migrated onto the LDS environment using shared terminologies and concepts, such that any condition can be repreducibly visualised across multiple dimensions and 'cuts'. 

Finally, this work would be extended to encompass specific inequality indicators and statistical insights, at a small group and individual level. (@fig-rep-pipelines-inequality) shows outcomes in an example workflow for long-term conditions (not including cancer). 

```{mermaid}
%%| fig-width: 6
%%| label: fig-rep-pipelines-inequality
%%| fig-cap: "Outcomes in development workflow. LTC = long-term conditions."
flowchart LR
    A["Shared definitions of terminologies for
        LTC and supporting concepts"] ==> A1["Reproducible pipelines to summarise
                                            LTC by group/geospatial features"]

    A1 ==> A2["Given condition as input:
          Ability to surface summary dashboards
          with group/geospatial comparison"]

    B["Shared definitions of inequality indicators
      based on domain knowledge and evidence"] ==> B1["Multivariate regression and survival
                                                  models to understand significance of
                                                  inequality indicators on outcomes"]

    A ==> B1

    A1 ==> B2

    B1==>B2["Given condition and group/individual as input: 
              Ability to surface inequality status vs 
              average of relevant baseline population"]

    classDef gray fill:#fff, stroke:#333, stroke-width:1px

    class A,A1,A2,B,B1,B2 gray
```

The primary output of this project would be a code base that engineers cohorts from disease definitions, produces indicators for a given disease, and produces summary tables and statistics for groups and individual patients (where required). The code can be adapted by ICBs and used to support local dashboards and pathways. Code can be used for higher-level interval reporting and monitoring for the London region.

### Cardiovascular disease prevention through decision intelligence

**AIM:** To enhance descriptive population health management with explainable predictive analytics and clinical guideline-based decision intelligence systems, across cardiovascular related co-morbidities (including hypertension, diabetes, chronic kidney disease).  

**BACKGROUND:** The spectrum of cardiovascular long-term conditions and associated risk factors is wide, and includes hypertension, diabetes, obesity, high cholesterol, ischaemic heart disease, stroke, and chronic kidney disease, as well as dementia and heart failure. The burden of such diseases is high. [Heart disease](https://cks.nice.org.uk/topics/cvd-risk-assessment-management/background-information/burden-of-cvd/) alone causes a quarter of deaths in the UK, with direct costs to the healthcare system estimated at Â£9 billion by the British Heart Foundation. Cardiovascular disease is seen as a [priority area for use of data](https://imperialcollegehealthpartners.com/portfolio/onelondon/) across OneLondon patient and public engagement.

There is robust aggregate understanding of cardiovascular long-term conditions in London, through prevalence reporting and Quality Outcome Framework (QOF) indicators. Existing ICB dashboards (@fig-icb-hypertension) routinely show how a practice or a system are performing relative to their peers. However, while indicating priority areas for action, such reporting has limitations. These include inability to surface individual patients and/or direct actions, lack of adjustment for demographics and other variables, and consideration of long-term conditions in isolation (whereas multi-morbidity changes the entire risk profile and urgency of response for individuals).

![Existing ICB dashboard for Hypertension](media/example_dashboard.jpg){width=60%, #fig-icb-hypertension}

Some of these limitations are being addressed by existing work in London pathfinder programmes, and in other regions such as Greater Manchester, which are moving towards electronic identification of patients who may be actioned via pre-agreed clinical pathways (@fig-simple-pathway-action).

```{mermaid}
%%| fig-width: 6
%%| label: fig-simple-pathway-action
%%| fig-cap: "Examples of simple logical triggers leading to clinical actions. CKD = Chronic Kidney Disease; BB = Beta-blocker; ACEi = ACE inhibitor."
flowchart LR
    A["Patient has CKD, 
      but is not on a Statin"] ==> A1["Assess and consider 
                                        starting a Statin"]

    B["HbA1c high in two consecutive years,
      but patient not identified as Diabetic"] ==> B1["Code for Diabetes, and invite
                                                    for clinical assessment and education"]

    C["Patient has Hypertension and Diabetes, 
      is on BB (where ACEi is recommended)"] ==> C1["Assess and consider 
                                                      medication switch"]


    classDef white fill:#fff, stroke:#333, stroke-width:1px
    classDef gray fill:#eee, stroke:#333, stroke-width:1px

    class A,B,C white
    class A1,B1,C1 gray
```

A previous collaboration between the AIC and North-East London ICB was able to develop precise cardiovascular risk prediction models for individuals, using explainable machine-learning algorithms and the linked patient health record. Actionable factors could also be highlighted in patients with high risk, with their relative importance explained through statistical modelling to enhance explainability (@fig-htn-actionable).

![Actionable factors (including follow-up, treatment, blood pressure control) and association of features with adverse outcome in high risk hypertensive patients](media/htn_actionable.jpg){width=60%, #fig-htn-actionable}

**APPROACH:**  This use-case will extend the above work, by combining multivariate statistics and machine learning for risk prediction, with robust decision systems that are grounded in evidence and clinical guidelines. Broadly, work would consist of the following components:

(1) Development of shared terminologies, concepts, and features, used to characterise patients with any single or combination of relevant long-term condition.

(2) Development of shared code base to ingest these definitions, and construct / describe / visualise cohorts as extension of existing dashboards. This code can be built as part of migration of existing pipelines into the LDS environment. 

(3) Computerisation of Quality Outcomes Framework targets and clinical guidelines, in conjunction with local clinical teams, to develop safe decision logic for use in the "effector" arm.

(4) Use of CogStack to extract additional valuable context and missing codes from unstructured text.

(5) Development of statistical and machine learning models for predicting and understanding risk of progression across range of cardiovascular morbidity and co-morbidity.

(6) For given patient's health record, understand actions (i.e. are there  actions available, and what are they) combined with explainable risks across multiple conditions (i.e. what are the highest risks for this patient and why).

This approach aims to generate **patient-centric decision intelligence** (@fig-patient-dec-int), where risk and possible actions are considered for a highly detailed representation of an individual, rather than for isolated conditions, or for patients to be considered in large, aggregate groups. Any systems will need to be evaluated and monitored for safety and fairness, with a process of training and handover to continuity teams following the end of this SDE programme phase.

```{mermaid}
%%| fig-width: 6
%%| label: fig-patient-dec-int
%%| fig-cap: "A linked and enriched patient healthcare record can support accurate risk prediction and prioritisation of useful actions."
flowchart LR
    A1[Demographics] ==> B["Personal health record"]

    A2["Co-morbidities &
        clinical features"] ==> B

    A3["Drug prescription &
        request history"] ==> B

    A4["Encounter history in
      primary/secondary care"] ==> B

    A5["Laboratory results"] ==> B

    A6["Clinical observations"] ==> B

    A7["Unstructured record"] ==> B

    A8["Indicators of lack of
        access/service"] ==> B

    B ==> C["Multivariate adjustment for endpoints:
            (i.e. these are the key features
            of importance in this patient)"]
    B ==> D["Predictive analytics:
            (i.e. this patient is high risk for
            these complications over 3 years)"]
    B ==> E["Computing via clinical guidelines & QOF:
            (i.e. care for this patient can be optimised
            by assessing the following actions)"]

    C ==> Z["Patient-centric decision intelligence:
            (i.e. this patient is high priority for
            attention given their risk profile 
            and potential actionability)"]

    D ==> Z
    E ==> Z

    classDef white fill:#fff, stroke:#333, stroke-width:1px
    classDef gray fill:#eee, stroke:#333, stroke-width:1px

    class A1,A2,A3,A4,A5,A6,A7,A8,C,D,E white
    class B,Z gray
```


### Joining up cancer pathways

**AIM:**

**BACKGROUND:** 

**APPROACH:**


## Next steps

...